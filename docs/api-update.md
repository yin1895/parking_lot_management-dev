# API文档更新

本文档提供停车场管理系统API的最新更新和最佳实践。

## API响应格式规范

为保持一致性，所有API响应应遵循以下格式：

### 成功响应

```json
{
  "success": true,
  "data": {
    // 响应数据
  },
  "message": "操作成功描述（可选）"
}
```

### 错误响应

```json
{
  "success": false,
  "error": {
    "code": "ERROR_CODE",
    "message": "错误描述"
  }
}
```

## 请求验证

所有请求参数都应该进行验证，常见验证规则：

1. **车牌号**：必须符合中国车牌号规范
2. **日期时间**：必须是有效的ISO格式日期时间字符串
3. **ID参数**：必须是正整数

## 错误代码说明

| 错误代码 | 描述 | HTTP状态码 |
|---------|------|-----------|
| VALIDATION_ERROR | 请求参数验证失败 | 400 |
| AUTH_ERROR | 认证失败 | 401 |
| NOT_FOUND | 资源未找到 | 404 |
| SERVER_ERROR | 服务器内部错误 | 500 |

## API使用最佳实践

1. 总是检查响应中的`success`字段
2. 实现适当的错误处理机制
3. 使用合理的超时设置
4. 实现请求重试机制（针对网络错误）
